# Redirect Test Configuration

server {
    listen 8080;
    server_name localhost;

    root ./www/;
    index index.html;

    autoindex on;
    client_max_body_size 1M;

    error_page 404 /error_pages/404.html;
    error_page 403 /error_pages/403.html;

    # Test redirect: /old-page -> /index.html (301 Moved Permanently)
    location /old-page {
        return 301 /index.html;
    }

    # Test redirect: /temp-redirect -> /index.html (302 Found - Temporary)
    location /temp-redirect {
        return 302 /index.html;
    }

    # Test redirect to external URL
    location /google {
        return 301 https://www.google.com;
    }

    # Test redirect with 307 (preserves HTTP method)
    location /api-moved {
        return 307 /new-api;
    }

    # Normal location (no redirect)
    location /uploads/ {
        root ./www/uploads;
        autoindex on;
    }
}
